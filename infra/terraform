variable "region" {
  type    = string
  default = "us-east-1"
}

variable "ami" {
  description = "ID da AMI"
  type = string
}

variable "instance_type" {
  type    = string
  description = "Tipo da inst√¢ncia EC2"
  default = "t2.micro"
}

variable "key_name" {
  description = "Nome do par de chaves SSH"
  type = string
}

variable "security_group_ids" {
  description = "ID do Security Group"
  type = list(string)
}

variable "subnet_id" {
  description = "ID da subnet"
  type = string
}
ami                  = "ami-084568db4383264d4"
key_name             = "devops-key"
security_group_ids   = ["sg-03cb3471f59714e38"]
subnet_id            = "subnet-0b01866ec5d07be64"
output "public_ip" {
  value = aws_instance.task_api_instance.public_ip
}

output "public_dns" {
  value = aws_instance.task_api_instance.public_dns
}
  provider "aws" {
    region  = var.region
  }

  resource "aws_instance" "task_api_instance" {
    ami           = var.ami
    instance_type = var.instance_type

    key_name               = var.key_name
    vpc_security_group_ids = var.security_group_ids
    subnet_id = var.subnet_id

    tags = {
      Name = "task-manager-api-instance"
    }
  }
# This file is maintained automatically by "terraform init".
# Manual edits may be lost in future updates.

provider "registry.terraform.io/hashicorp/aws" {
  version = "5.100.0"
  hashes = [
    "h1:H3mU/7URhP0uCRGK8jeQRKxx2XFzEqLiOq/L2Bbiaxs=",
    "zh:054b8dd49f0549c9a7cc27d159e45327b7b65cf404da5e5a20da154b90b8a644",
    "zh:0b97bf8d5e03d15d83cc40b0530a1f84b459354939ba6f135a0086c20ebbe6b2",
    "zh:1589a2266af699cbd5d80737a0fe02e54ec9cf2ca54e7e00ac51c7359056f274",
    "zh:6330766f1d85f01ae6ea90d1b214b8b74cc8c1badc4696b165b36ddd4cc15f7b",
    "zh:7c8c2e30d8e55291b86fcb64bdf6c25489d538688545eb48fd74ad622e5d3862",
    "zh:99b1003bd9bd32ee323544da897148f46a527f622dc3971af63ea3e251596342",
    "zh:9b12af85486a96aedd8d7984b0ff811a4b42e3d88dad1a3fb4c0b580d04fa425",
    "zh:9f8b909d3ec50ade83c8062290378b1ec553edef6a447c56dadc01a99f4eaa93",
    "zh:aaef921ff9aabaf8b1869a86d692ebd24fbd4e12c21205034bb679b9caf883a2",
    "zh:ac882313207aba00dd5a76dbd572a0ddc818bb9cbf5c9d61b28fe30efaec951e",
    "zh:bb64e8aff37becab373a1a0cc1080990785304141af42ed6aa3dd4913b000421",
    "zh:dfe495f6621df5540d9c92ad40b8067376350b005c637ea6efac5dc15028add4",
    "zh:f0ddf0eaf052766cfe09dea8200a946519f653c384ab4336e2a4a64fdd6310e9",
    "zh:f1b7e684f4c7ae1eed272b6de7d2049bb87a0275cb04dbb7cda6636f600699c9",
    "zh:ff461571e3f233699bf690db319dfe46aec75e58726636a0d97dd9ac6e32fb70",
  ]
}
